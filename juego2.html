<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piedra, papel o tijera</title>
</head>
<body>
    <h1>Piedra, papel o tijera</h1>
    <script>
        // 1 es piedra, 2 es papel, 3 es tijera
        function aleatorio(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }

        let opciones = {
            "1": "piedra",
            "2": "papel",
            "3": "tijera"
        };

        let jugarDeNuevo = true;

        while (jugarDeNuevo) {
            let jugador = prompt("Elije 1 para piedra, 2 para papel, 3 para tijera");
            if (jugador === null) { // El usuario presionó Cancelar
                break;
            }
            jugador = parseInt(jugador);
            if (isNaN(jugador) || jugador < 1 || jugador > 3) {
                alert("Selección inválida");
                continue;
            }

            let pc = aleatorio(1, 3);
            let resultado = "";

            resultado += "Elegiste " + opciones[jugador] + "\n";
            resultado += "PC elije " + opciones[pc] + "\n";

            if (pc === jugador) {
                resultado += "Empate";
            } else if ((jugador === 1 && pc === 3) || (jugador === 2 && pc === 1) || (jugador === 3 && pc === 2)) {
                resultado += "Ganaste";
            } else {
                resultado += "Perdiste";
            }

            alert(resultado);

            jugarDeNuevo = confirm("¿Quieres jugar de nuevo?");
        }
    </script>
</body>
</html>
